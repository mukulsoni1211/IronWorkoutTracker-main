@model IEnumerable<IronWorkoutTracker.Domain.Entities.WorkoutProgram>
@{
    ViewData["Title"] = "Home Page";
    var currentFilter = ViewBag.Filter as string ?? "all";
}

<div class="d-flex justify-content-between mb-3">
    <h2>Workout Programs</h2>
    <a asp-controller="WorkoutProgram" asp-action="Create" class="btn btn-success">
        Create Workout Program
    </a>
</div>

<!-- Filter Tabs -->
<ul class="nav nav-tabs mb-4" id="programTabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link @(currentFilter == "workout" ? "active" : "")" 
           asp-controller="Home" asp-action="Index" asp-route-filter="workout">
            Workout
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link @(currentFilter == "myprograms" ? "active" : "")" 
           asp-controller="Home" asp-action="Index" asp-route-filter="myprograms">
            My Programs
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link @(currentFilter == "all" ? "active" : "")" 
           asp-controller="Home" asp-action="Index" asp-route-filter="all">
            All Programs
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link @(currentFilter == "history" ? "active" : "")" 
           asp-controller="Home" asp-action="Index" asp-route-filter="history">
            History
        </a>
    </li>
</ul>

<!-- Tab Content -->
@switch(currentFilter.ToLower())
{
    case "myprograms":
        @await Html.PartialAsync("_MyProgramsTab", Model)
        break;
    case "all":
        @await Html.PartialAsync("_AllProgramsTab", Model)
        break;
    case "history":
        @await Html.PartialAsync("_HistoryTab", Model)
        break;
    case "workout":
        @await Html.PartialAsync("_WorkoutTab", Model)
        break;
    default:
        @await Html.PartialAsync("_AllProgramsTab", Model)
        break;
}
