@model IronWorkoutTracker.Presentation.ViewModels.WorkoutProgramDetailsViewModel

<a asp-action="Index" asp-controller="Home" class="btn btn-secondary">Back to list</a>
<h2>Workout Program Details</h2>

<dl class="row">
    <dt class="col-sm-3">Name</dt>
    <dd class="col-sm-9">@Model.Program.Name</dd>

    <dt class="col-sm-3">Description</dt>
    <dd class="col-sm-9">@Model.Program.Description</dd>

    <dt class="col-sm-3">Visibility</dt>
    <dd class="col-sm-9">@Model.Program.Visibility</dd>

    <dt class="col-sm-3">Created By</dt>
    <dd class="col-sm-9">@Model.Program.CreatedBy?.Name</dd>

    <dt class="col-sm-3">Created Date</dt>
    <dd class="col-sm-9">@Model.Program.CreatedDate.ToString("yyyy-MM-dd HH:mm")</dd>
</dl>


<!-- Add Day Button -->
<button type="button"
        class="btn btn-success mb-3"
        id="addDayBtn"
        data-action="Create"
        data-controller="ProgramDay"
        data-program-id="@Model.Program.WorkoutProgramId"
        data-bs-toggle="modal"
        data-bs-target="#programDayModal">
    Add Day
</button>

<!-- Program Days Cards -->
<div class="d-flex flex-wrap gap-3 mb-4">
@foreach (var day in Model.Days)
{
    <div class="card" style="width: 18rem;" id="day-@day.ProgramDayId">
        <div class="card-body">
            <h5 class="card-title">@day.Title</h5>
            <p class="card-text">@day.Note</p>
            
            <button type="button"
                    class="btn btn-sm btn-primary"
                    data-action="EditModal"
                    data-controller="ProgramDay"
                    data-id="@day.ProgramDayId"
                    data-bs-toggle="modal"
                    data-bs-target="#programDayModal">
                Edit
            </button>


            <form asp-controller="ProgramDay"
                  asp-action="Delete"
                  asp-route-id="@day.ProgramDayId"
                  method="post"
                  class="d-inline"
                  onsubmit="return confirm('Are you sure?');">
                <button type="submit" class="btn btn-sm btn-danger">Delete</button>
            </form>
        </div>
    </div>
}
</div>

<!-- Modal -->
<div class="modal fade" id="programDayModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content" id="modalContent">
            <!-- Loaded via AJAX -->
        </div>
    </div>
</div>